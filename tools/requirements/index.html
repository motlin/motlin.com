<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-4967748-1"></script>
    <script data-cfasync="false">window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-4967748-1');</script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.6.0.783464633555">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.6.0">

    <!-- Primary Meta Tags -->
    <title>Factorio Blueprint Parser | motlin.com</title>
    <meta name="title" content="Factorio Blueprint Parser | motlin.com">
    <meta name="description" content="The title of the page should be \"Factorio Blueprint Parser.\" Below the title, there should be a textarea that says \"Paste your blueprint here.">

    <!-- Canonical -->
    <link rel="canonical" href="https://motlin.com/tools/requirements/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://motlin.com/tools/requirements/">
    <meta property="og:title" content="Factorio Blueprint Parser | motlin.com">
    <meta property="og:description" content="The title of the page should be \"Factorio Blueprint Parser.\" Below the title, there should be a textarea that says \"Paste your blueprint here.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://motlin.com/tools/requirements/">
    <meta property="twitter:title" content="Factorio Blueprint Parser | motlin.com">
    <meta property="twitter:description" content="The title of the page should be \"Factorio Blueprint Parser.\" Below the title, there should be a textarea that says \"Paste your blueprint here.">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=3.6.0.783464633555" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.6.0.783464633555" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.6.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.6.0.783464633555" data-turbo-eval="false" defer></script>
    <script id="prism-js" data-cfasync="false" src="../../resources/js/prism.js?v=3.6.0.783464633555" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-2xl">
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">motlin.com</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Blog</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://motlin.medium.com/" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"/><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"/>
                                        </g>
                                    </svg>
                                    <span>medium</span>
                                </a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://motlin.medium.com/" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"/><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"/>
                                                </g>
                                            </svg>
                                            <span>medium</span>
                                        </a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="factorio-blueprint-parser" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#factorio-blueprint-parser">#</doc-anchor-trigger>
        <span>Factorio Blueprint Parser</span>
    </h1>
</doc-anchor-target>
<doc-anchor-target id="parsing-factorio-blueprints">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#parsing-factorio-blueprints">#</doc-anchor-trigger>
        <span>Parsing Factorio Blueprints</span>
    </h2>
</doc-anchor-target>
<p>The title of the page should be &quot;Factorio Blueprint Parser.&quot; Below the title, there should be a textarea that says &quot;Paste your blueprint here.&quot; The textarea should be rendered small, since the data isn&#x27;t human-readable.</p>
<p>There shouldn&#x27;t be any button to parse the blueprint. As soon as a paste is detected, the blueprint should be parsed and displayed.</p>
<p>The way that Factorio Blueprint parsing works:</p>
<ul>
<li>Remove the &#x27;0&#x27; prefix</li>
<li>Decode the base64 string</li>
<li>Decompress the zlib data</li>
<li>Parse the JSON</li>
</ul>
<doc-anchor-target id="displaying-blueprint-information">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#displaying-blueprint-information">#</doc-anchor-trigger>
        <span>Displaying Blueprint Information</span>
    </h2>
</doc-anchor-target>
<p>Below the header where the user pastes the blueprint, we will have a section to display parsed information about the blueprint. I&#x27;d like to have the below section to be split vertically, and for each section I describe below to be in a collapsible card. The user can click on the card to expand or collapse the section.</p>
<doc-anchor-target id="basic-information-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#basic-information-card">#</doc-anchor-trigger>
        <span>Basic information card</span>
    </h3>
</doc-anchor-target>
<p>First card on the left.</p>
<ul>
<li>Root blueprint label</li>
<li>Root blueprint description</li>
<li>Game version</li>
<li>Root blueprint type, like blueprint, blueprint book, upgrade planner, deconstruction planner. This can be an icon.</li>
<li>The up to 4 icons.</li>
<li>Whether the root blueprint uses parameters</li>
<li>Whether the root blueprint uses 2.0 features</li>
<li>Whether the root blueprint uses Space Age features</li>
<li>Whether the root blueprint uses Quality features</li>
<li>Whether the root blueprint uses Elevated Rails features</li>
</ul>
<doc-anchor-target id="blueprint-tree-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#blueprint-tree-card">#</doc-anchor-trigger>
        <span>Blueprint tree card</span>
    </h3>
</doc-anchor-target>
<p>Second card on the left. The card is only displayed if the root blueprint is a blueprint book.</p>
<p>Display a tree of the blueprints in the book, showing its recursive structure.</p>
<p>If the current row represents a deconstruction planner or upgrade planner, the row should start with the relevant icon.</p>
<p>Each row in the tree should show the 4 icons and label of the blueprint.</p>
<p>The row should change color on hover to indicate that it is clickable. We should respond to clicks on the row by displaying the summary information about that blueprint in the summary card, and the selected row should be highlighted.</p>
<doc-anchor-target id="summary-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#summary-card">#</doc-anchor-trigger>
        <span>Summary card</span>
    </h3>
</doc-anchor-target>
<p>First card on the right. This card is only displayed when there is a selected blueprint. If the root blueprint is a plain blueprint, this card is displayed by default.</p>
<ul>
<li>Label</li>
<li>Description</li>
<li>Game version</li>
<li>Blueprint type, like blueprint, blueprint book, upgrade planner, deconstruction planner.</li>
<li>Icons</li>
<li>Whether the blueprint uses snap-to-grid, and if so, whether it&#x27;s absolute or relative.</li>
<li>Whether the blueprint uses parameters</li>
<li>Whether the blueprint uses 2.0 features</li>
<li>Whether the blueprint uses Space Age features</li>
<li>Whether the blueprint uses Quality features</li>
<li>Whether the blueprint uses Elevated Rails features</li>
</ul>
<doc-anchor-target id="contents-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#contents-card">#</doc-anchor-trigger>
        <span>Contents card</span>
    </h3>
</doc-anchor-target>
<p>Second card on the right. This card is only displayed when there is a selected blueprint.</p>
<ul>
<li>Table of entities</li>
<li>Table of recipes</li>
<li>Table of tiles</li>
</ul>
<p>All tables have the following columns:</p>
<ul>
<li>Icon</li>
<li>Count</li>
<li>Name</li>
</ul>
<doc-anchor-target id="upgrade-planner-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#upgrade-planner-card">#</doc-anchor-trigger>
        <span>Upgrade planner card</span>
    </h3>
</doc-anchor-target>
<p>This card is only displayed when the selected blueprint type is an upgrade planner.</p>
<p>The upgrade planner structure looks like this:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-json"><code v-pre class="language-json">{
  &quot;upgrade_planner&quot;: {
    &quot;settings&quot;: {
      &quot;mappers&quot;: [
        {
          &quot;from&quot;: {
            &quot;type&quot;: &quot;entity&quot;,
            &quot;name&quot;: &quot;underground-belt&quot;
          },
          &quot;to&quot;: {
            &quot;type&quot;: &quot;entity&quot;,
            &quot;name&quot;: &quot;fast-underground-belt&quot;
          },
          &quot;index&quot;: 0
        }
      ]
    },
    &quot;item&quot;: &quot;upgrade-planner&quot;,
    &quot;version&quot;: 73014509569
  }
}</code></pre>
</doc-codeblock></div>
<p>Display upgrade mappings in a vertical list, sorted by the index field. Each mapping shows:</p>
<ul>
<li>The &quot;from&quot; item with its icon</li>
<li>An arrow (→)</li>
<li>The &quot;to&quot; item with its icon</li>
</ul>
<doc-anchor-target id="deconstruction-planner-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#deconstruction-planner-card">#</doc-anchor-trigger>
        <span>Deconstruction planner card</span>
    </h3>
</doc-anchor-target>
<p>This card is only displayed when the selected blueprint type is a deconstruction planner. The structure looks like this:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-json"><code v-pre class="language-json">{
  &quot;deconstruction_planner&quot;: {
    &quot;settings&quot;: {
      &quot;trees_and_rocks_only&quot;: true,
      &quot;tile_selection_mode&quot;: 3,
      &quot;entity_filters&quot;: [
        {
          &quot;name&quot;: &quot;laser-turret&quot;,
          &quot;index&quot;: 0
        }
      ]
    },
    &quot;item&quot;: &quot;deconstruction-planner&quot;,
    &quot;label&quot;: &quot;Optional Label&quot;,
    &quot;version&quot;: 281479276658688
  }
}</code></pre>
</doc-codeblock></div>
<p>The card should show:</p>
<ul>
<li>Special modes (like &quot;trees_and_rocks_only&quot;)</li>
<li>Tile selection mode (values: 2=&quot;Never deconstruct tiles&quot;, 3=&quot;Always deconstruct tiles&quot;)</li>
<li>Entity filters, if present, showing icons and names sorted by index</li>
</ul>
<doc-anchor-target id="parameters-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#parameters-card">#</doc-anchor-trigger>
        <span>Parameters card</span>
    </h3>
</doc-anchor-target>
<p>This card is only displayed when the blueprint contains parameters. Parameters appear in the following structure:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-json"><code v-pre class="language-json">&quot;parameters&quot;: [
  {
    &quot;type&quot;: &quot;id&quot;,
    &quot;name&quot;: &quot;Primary&quot;,
    &quot;id&quot;: &quot;parameter-0&quot;,
    &quot;quality-condition&quot;: {
      &quot;quality&quot;: &quot;normal&quot;,
      &quot;comparator&quot;: &quot;=&quot;
    }
  },
  {
    &quot;type&quot;: &quot;number&quot;,
    &quot;number&quot;: &quot;10&quot;,
    &quot;name&quot;: &quot;Stock&quot;
  }
]</code></pre>
</doc-codeblock></div>
<p>The card should show:</p>
<ul>
<li>Parameter name</li>
<li>For ID type parameters:
<ul>
<li>The parameter ID</li>
<li>Quality conditions if present</li>
</ul>
</li>
<li>For number type parameters:
<ul>
<li>The numeric value</li>
</ul>
</li>
</ul>
<p>Parameter IDs can be referenced elsewhere in the blueprint, particularly in:</p>
<ul>
<li>Recipe fields as &quot;parameter-0&quot;, &quot;parameter-1&quot;, etc.</li>
<li>Circuit conditions</li>
<li>Other settings that accept signals or recipes</li>
</ul>
<p>When parameters are present, the usesParameters flag in metadata should be set to true.</p>
<doc-anchor-target id="json-card">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#json-card">#</doc-anchor-trigger>
        <span>Json card</span>
    </h3>
</doc-anchor-target>
<p>Third card on the right. This card is only displayed when there is a selected blueprint.</p>
<p>The card shows these action buttons:</p>
<ul>
<li>Button to copy-to-clipboard the data for the root blueprint</li>
<li>Button to copy-to-clipboard the data for the selected blueprint</li>
<li>Button to display a card for the json of the root blueprint</li>
<li>Button to display a card for the json of the selected blueprint</li>
<li>Button to download the json of the root blueprint</li>
<li>Button to download the json of the selected blueprint</li>
</ul>
<p>The download buttons should download the json as a file with the name like &lt;label&gt;.json if the label is available. If the label is not available for the selected blueprint, but is available at the root, then the file should be named &lt;root label&gt;-&lt;path&gt;.json. The path is a dot-separated list of child indexes starting at 1. For example, 1.2 means the root blueprint&#x27;s first child&#x27;s second child.</p>
<p>When generating filenames:</p>
<ul>
<li>Remove invalid filename characters from labels</li>
<li>Replace spaces with hyphens</li>
<li>If no label is available, use &quot;blueprint&quot; as the default</li>
</ul>
<doc-anchor-target id="general-card-requirements">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#general-card-requirements">#</doc-anchor-trigger>
        <span>General card requirements</span>
    </h2>
</doc-anchor-target>
<p>These requirements apply to all cards.</p>
<doc-anchor-target id="version-number-parsing">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#version-number-parsing">#</doc-anchor-trigger>
        <span>Version number parsing</span>
    </h3>
</doc-anchor-target>
<p>Game versions are embedded in blueprints as 64-bit numbers. They need to be split into 4 chunks of 16-bits each, and then turned into a four-part version number like 1.2.3.4.</p>
<p>Due to JavaScript&#x27;s number precision limitations with large integers, version parsing must use BigInt operations to correctly handle the bitwise operations. For example, the version number 562949954076673 should parse to &quot;2.0.10.1&quot; and requires BigInt operations to parse correctly.</p>
<doc-anchor-target id="icons-and-urls">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#icons-and-urls">#</doc-anchor-trigger>
        <span>Icons and URLs</span>
    </h3>
</doc-anchor-target>
<p>All game icons (items, entities, recipes, etc.) should be loaded from factorio.school. The URL format is:</p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre class="language-none"><code v-pre class="language-none">https://www.factorio.school/icons/{type}/{name}.png</code></pre>
</doc-codeblock></div>
<p>Icon types:</p>
<ul>
<li>item</li>
<li>entity</li>
<li>recipe</li>
<li>fluid</li>
<li>technology</li>
<li>virtual-signal (used when type is &quot;virtual&quot;)</li>
<li>achievement</li>
<li>tile</li>
</ul>
<p>Special cases:</p>
<ul>
<li>When a type is not specified in blueprint data, assume &quot;item&quot;</li>
<li>When type is &quot;virtual&quot;, use &quot;virtual-signal&quot; in the URL path</li>
</ul>
<p>Example usages:</p>
<ul>
<li>Entity: <code v-pre>&lt;img src=&quot;https://www.factorio.school/icons/entity/assembling-machine-3.png&quot;&gt;</code></li>
<li>Recipe: <code v-pre>&lt;img src=&quot;https://www.factorio.school/icons/recipe/coal-liquefaction.png&quot;&gt;</code></li>
<li>Item with missing type: <code v-pre>&quot;signal&quot;: { &quot;name&quot;: &quot;space-platform-starter-pack&quot; }</code> → <code v-pre>icons/item/space-platform-starter-pack.png</code></li>
<li>Virtual signal: <code v-pre>&quot;type&quot;: &quot;virtual&quot;</code> → use <code v-pre>icons/virtual-signal/</code> path</li>
</ul>
<doc-anchor-target id="rich-text">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#rich-text">#</doc-anchor-trigger>
        <span>Rich Text</span>
    </h3>
</doc-anchor-target>
<p>The attachment <code v-pre>factorio-rich-text.txt</code> contains the information from the Factorio wiki about rich text and can be considered a specification for how to parse and display rich text.</p>
<p>All blueprint labels and descriptions can contain rich text. We should parse the rich text and display it in a readable format. For example, <code v-pre>[color=blue][font=default-bold]example[/font][/color]</code> should display as &quot;example&quot; in blue and bold.</p>
<p>Images, like <code v-pre>[item=red-wire]</code> should become img tags with the appropriate image, like <code v-pre>&lt;img src=&quot;https://www.factorio.school/icons/item/red-wire.png&quot;&gt;</code>.</p>
<doc-anchor-target id="game-features">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#game-features">#</doc-anchor-trigger>
        <span>Game features</span>
    </h3>
</doc-anchor-target>
<p>The blueprint uses elevated rails if it uses any of these entities:</p>
<ul>
<li><p>elevated-curved-rail-a</p>
</li>
<li><p>elevated-curved-rail-b</p>
</li>
<li><p>elevated-half-diagonal-rail</p>
</li>
<li><p>elevated-straight-rail</p>
</li>
<li><p>rail-ramp</p>
</li>
<li><p>rail-support</p>
</li>
<li><p>The blueprint uses Factorio 2 if it uses any elevated rails or any of these entities.</p>
</li>
<li><p>curved-rail-a</p>
</li>
<li><p>curved-rail-b</p>
</li>
<li><p>half-diagonal-rail</p>
</li>
</ul>
<doc-anchor-target id="json-content">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#json-content">#</doc-anchor-trigger>
        <span>JSON Content</span>
    </h3>
</doc-anchor-target>
<doc-anchor-target id="css">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#css">#</doc-anchor-trigger>
        <span>CSS</span>
    </h3>
</doc-anchor-target>
<p>The style should be consistent with the video game menus, and <a href="https://factorio.com/">https://factorio.com/</a>. The CSS from factorio.com is in the attachment <code v-pre>factorio.css</code>. Our CSS should be embedded in the single html file. The attachment <code v-pre>Factorio.html</code> is the html content of factorio.com and should help with context about how CSS is applied to elements.</p>
<p>Import and use Tailwind CSS for styling if you think that makes sense after reading factorio.css.</p>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-blue-500 dark:text-blue-400 hover:text-blue-700 hover:underline" href="https://github.com/motlin/motlin.com/edit/main/tools/requirements.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit on GitHub</span>
                                    </a>
                                </div>
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../2023-07-05-which-log-level/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Which Log Level?</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../git/2019-01-13-git-configuration/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Git Configuration</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>© Copyright 2024. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Factorio Blueprint Parser", level: 2, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
